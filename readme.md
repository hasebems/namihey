
# namihey Alpha-version

## namihey とは

namihey は、主に Live Coding で使うために開発された音楽記述言語です。
音の指定を、移動ドによる階名で指定することを大きな特徴とします。
python によって記述され、mido というライブラリにより、MIDI出力します。


## 用語定義

- フレーズ : 入力した音の高さ、長さ、強さの一連のデータのこと
- 階名 : ある調の主音を「ド」とし、そこからドレミファ・・と呼んでいく、移動ドによる音の高さの呼称
- duration（音価） : 楽譜上での音の長さ


## 記述の基本ルール

- 起動
    - 'python namihey.py'  : 通常の python スクリプトと同じ
- 入力
    - '[1]~~> ' : nami prompt
        - [1]は、part 1の入力状態であることを示す
        - このプロンプトの後に、コマンドやフレーズを書き込む
    - カーソルによる過去入力のヒストリー呼び出しが可能
- 終了
    - 'quit' で終了

## フレーズ追加

- [*note*][*duration*][*velocity*] : フレーズ追加の基本形式
    - *note*: 階名
    - *duration*: 音価
    - *velocity*: 音量
    - [*duration*] と [*velocity*] は省略可能

- 階名表現
    - d,r,m,f,s,l,t: ド、レ、ミ、ファ、ソ、ラ、シ
    - di,ri,fi,si,li: ド#、レ#、ファ#、ソ#、ラ#
    - ra,ma,sa,lo,ta: レb、ミb、ソb、ラb、シb
    - -d : 1オクターブ下のド、 +d : 1オクターブ上のド
    - x: 休符
    - d=m=s, : 同時演奏

- 音価表現
    - [1,1,1,1] : 四分音符を４回
    - [1,1,1,1:8] : 八分音符を４回
    - [2,1,2,1,3:12] : 一拍3連(12分音符)で、タータタータター
    - 省略した場合、全て四分音符とみなす

- 音量表現
    - [127,127,127,127] : MIDI velocity=127 を４回
    - 省略した場合、全て velocity=100 とみなす

## シーケンスコントロール

- 'play' : シーケンス開始
- 'stop' : シーケンス終了

## 入力変更

- 'input part=1' : part 1への入力切り替え（デフォルト1, 1〜16)

## 設定コマンド

- 'set bpm=100' : BPM（テンポ）=100 にセット
- 'set beat=4/4' : 拍子を 4/4 にセット
- 再生中でも設定可能。再生中の場合、次のループから反映される

## 音を出す方法

- MIDI 音源を繋ぐ
- Logic などマルチパートで MIDI受信するアプリを同時に起動する
